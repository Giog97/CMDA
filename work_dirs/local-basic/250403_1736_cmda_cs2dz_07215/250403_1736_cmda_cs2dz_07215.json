{"log_config": {"interval": 50, "hooks": [{"type": "TextLoggerHook", "by_epoch": false}]}, "dist_params": {"backend": "nccl"}, "log_level": "INFO", "load_from": null, "resume_from": null, "workflow": [["train", 1]], "cudnn_benchmark": true, "norm_cfg": {"type": "BN", "requires_grad": true}, "find_unused_parameters": true, "model": {"type": "FusionEncoderDecoder", "pretrained": "pretrained/mit_b5.pth", "backbone": {"type": "mit_b5", "style": "pytorch"}, "decode_head": {"type": "DAFormerHeadFusion", "in_channels": [64, 128, 320, 512], "in_index": [0, 1, 2, 3], "channels": 256, "dropout_ratio": 0.1, "num_classes": 19, "norm_cfg": {"type": "BN", "requires_grad": true}, "align_corners": false, "decoder_params": {"embed_dims": 256, "embed_cfg": {"type": "mlp", "act_cfg": null, "norm_cfg": null}, "embed_neck_cfg": {"type": "mlp", "act_cfg": null, "norm_cfg": null}, "fusion_cfg": {"type": "aspp", "sep": true, "dilations": [1, 6, 12, 18], "pool": false, "act_cfg": {"type": "ReLU"}, "norm_cfg": {"type": "BN", "requires_grad": true}}, "train_type": "cs2dz_image+raw-isr", "share_decoder": true, "half_share_decoder": false}, "loss_decode": {"type": "CrossEntropyLoss", "use_sigmoid": false, "loss_weight": 1.0}}, "train_cfg": {"work_dir": "work_dirs/local-basic/250403_1736_cmda_cs2dz_07215"}, "test_cfg": {"mode": "whole"}, "backbone_image": {"type": "mit_b5", "style": "pytorch", "in_chans": 3}, "backbone_events": {"type": "mit_b5", "style": "pytorch", "in_chans": 3}, "fusion_module": {"type": "AttentionFusion"}, "train_type": "cs2dz_image+raw-isr", "fusion_isr_module": {"type": ""}}, "data": {"samples_per_gpu": 2, "workers_per_gpu": 4, "train": {"type": "UDADataset", "source": {"type": "CityscapesICDataset", "image_resize_size": [1024, 512], "image_crop_size": [512, 512], "dataset_path": "/path_to_CMDA/CMDA/data/cityscapes/", "outputs": ["image", "label", "img_self_res"], "shift_type": "rightdown", "isr_noise": false, "isr_cow_mask": false, "high_resolution_isr": false, "random_flare": null, "cs_isr_data_type": "day", "shift_3_channel": false, "isr_parms": ""}, "target": {"type": "DarkZurichICDataset", "dataset_path": "/path_to_CMDA/CMDA/data/dark_zurich/", "test_mode": false, "image_resize_size": [960, 540], "image_crop_size": [512, 512], "image_resize_size2": null, "outputs": ["image", "night_isr"], "isr_parms": {"val_range": [1, 100], "_threshold": 0.01, "_clip_range": 0.1, "shift_pixel": 3}, "shift_type": "rightdown", "auto_threshold": false, "high_resolution_isr": false, "shift_3_channel": false, "dz_isr_data_type": "night"}, "source_json_root": "/path_to_CMDA/CMDA/data/cityscapes/", "rare_class_sampling": {"min_pixels": 3000, "class_temp": 0.01, "min_crop_ratio": 0.5}}, "val": {"type": "DarkZurichICDataset", "dataset_path": "/path_to_CMDA/CMDA/data/dark_zurich/", "test_mode": true, "image_resize_size": [960, 540], "image_crop_size": [512, 512], "image_resize_size2": null, "outputs": ["image", "label"]}, "test": {"type": "DarkZurichICDataset", "dataset_path": "/path_to_CMDA/CMDA/data/dark_zurich/", "test_mode": true, "image_resize_size": [960, 540], "image_crop_size": [512, 512], "image_resize_size2": null, "outputs": ["image", "label"]}}, "uda": {"type": "DACS", "alpha": 0.999, "pseudo_threshold": 0.968, "pseudo_weight_ignore_top": 15, "pseudo_weight_ignore_bottom": 120, "imnet_feature_dist_lambda": 0, "imnet_feature_dist_classes": [6, 7, 11, 12, 13, 14, 15, 16, 17, 18], "imnet_feature_dist_scale_min_ratio": 0.75, "mix": "class", "blur": true, "color_jitter_strength": 0.2, "color_jitter_probability": 0.2, "debug_img_interval": 500, "print_grad_magnitude": false, "cyclegan_itrd2en_path": "", "img_self_res_reg": "no", "train_type": "cs2dz_image+raw-isr", "mixed_image_to_mixed_isr": true, "forward_cfg": {"loss_weight": {"image": 0.7, "events": 0.7, "fusion": 0.7, "img_self_res": 0.25}, "gradual_rate": 0.0}, "shift_type": "rightdown", "isr_parms": {"val_range": [1, 100], "_threshold": 0.01, "_clip_range": 0.1, "shift_pixel": 3}, "isr_mix_aug": false, "sky_mask": null, "deflare_aug": false, "isr_edge": false, "lambda_isr_features": -1, "isr_edge_class_weight": -1, "isr_noise_dacs_type": "", "shift_3_channel": false, "isr_no_fusion": false, "lambda_feature_consistency": -1, "isr_another_fusion": false, "random_choice_thres": "", "without_events": false, "without_isd": false, "fuse_both_ice_and_e": false}, "use_ddp_wrapper": true, "optimizer": {"type": "AdamW", "lr": 6e-05, "betas": [0.9, 0.999], "weight_decay": 0.01, "paramwise_cfg": {"custom_keys": {"head": {"lr_mult": 10.0}, "pos_block": {"decay_mult": 0.0}, "norm": {"decay_mult": 0.0}}}}, "optimizer_config": null, "lr_config": {"policy": "poly", "warmup": "linear", "warmup_iters": 1500, "warmup_ratio": 1e-06, "power": 1.0, "min_lr": 0.0, "by_epoch": false}, "seed": 0, "pretrained_type": "mit_b5", "n_gpus": 1, "runner": {"type": "IterBasedRunner", "max_iters": 40000}, "checkpoint_config": {"by_epoch": false, "interval": 40000, "max_keep_ckpts": 1}, "evaluation": {"interval": 4000, "metric": "mIoU"}, "name": "250403_1736_cmda_cs2dz_07215", "exp": "basic", "name_dataset": "cityscapes_day2dark_zurich", "name_architecture": "daformer_sepaspp_mitb5_events", "name_encoder": "mitb5", "name_decoder": "daformer_sepaspp_events", "name_uda": "dacs_a999_rcs0.01_cpl", "name_opt": "adamw_6e-05_pmTrue_poly10warm_1x2_40k", "work_dir": "work_dirs/local-basic/250403_1736_cmda_cs2dz_07215", "git_rev": "9d251299a00e014f0846575a8eb783ae3176f60f", "gpu_ids": [0]}